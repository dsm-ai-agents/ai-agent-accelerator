{
  "name": "[USECASE] Jarvis Part 2 - Whatsapp Assistant - Grouped",
  "nodes": [
    {
      "parameters": {
        "updates": [
          "messages"
        ],
        "options": {}
      },
      "type": "n8n-nodes-base.whatsAppTrigger",
      "typeVersion": 1,
      "position": [
        -112,
        48
      ],
      "id": "2a44bb1c-6641-485b-a160-5c2f85bca822",
      "name": "WhatsApp Trigger",
      "webhookId": "a54e3c8c-b7e2-4136-86d4-7e05164b048e"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGoogleGemini",
      "typeVersion": 1,
      "position": [
        -304,
        224
      ],
      "id": "c33bf30d-bb64-4cd0-a9c8-5d04c34c127d",
      "name": "Google Gemini Chat Model",
      "credentials": {
        "googlePalmApi": {
          "id": "MnUsmmVYQwrOHZ9q",
          "name": "Zak Google Gemini Embedding"
        }
      }
    },
    {
      "parameters": {
        "operation": "send",
        "phoneNumberId": "601943009678032",
        "recipientPhoneNumber": "+91",
        "textBody": "sample",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.whatsApp",
      "typeVersion": 1,
      "position": [
        2368,
        48
      ],
      "id": "1438c258-4531-49e7-a68f-30599b80f2e8",
      "name": "Send message",
      "webhookId": "22673305-a462-45b0-b3df-0bc049f3dae6",
      "credentials": {
        "whatsAppApi": {
          "id": "ZAVQ96VzBWSYAuN8",
          "name": "Akhil's WhatsApp account 3"
        }
      }
    },
    {
      "parameters": {
        "calendar": {
          "__rl": true,
          "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -496,
        512
      ],
      "id": "66a54a9f-8eb1-40db-8acf-8f01cf01fb18",
      "name": "Create an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1jk10kcqKsHeaJvJ",
          "name": "Zak Google Calendar"
        }
      }
    },
    {
      "parameters": {
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.googleContactsTool",
      "typeVersion": 1,
      "position": [
        800,
        736
      ],
      "id": "d45d189d-a0c5-461a-892e-7e6c845b755c",
      "name": "Create a contact in Google Contacts",
      "credentials": {
        "googleContactsOAuth2Api": {
          "id": "nhq5k2xWMxEjfBLT",
          "name": "VV_Google Contacts"
        }
      }
    },
    {
      "parameters": {
        "operation": "delete",
        "calendar": {
          "__rl": true,
          "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -368,
        592
      ],
      "id": "789e6844-dc0a-4711-b40b-ba8208df0abb",
      "name": "Delete an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1jk10kcqKsHeaJvJ",
          "name": "Zak Google Calendar"
        }
      }
    },
    {
      "parameters": {
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2864,
        592
      ],
      "id": "945fed7c-76d1-4e5b-8416-129f768a4355",
      "name": "Send a message in Gmail",
      "webhookId": "abc808a4-eaf5-4b9d-8f9a-4d6d1f82520b",
      "credentials": {
        "gmailOAuth2": {
          "id": "mR9Bpnaj6DHvcp2U",
          "name": "Zak Gmail"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "calendar": {
          "__rl": true,
          "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -240,
        656
      ],
      "id": "30e5fa38-248a-4d37-b108-37c2d39d616d",
      "name": "Get an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1jk10kcqKsHeaJvJ",
          "name": "Zak Google Calendar"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "calendar": {
          "__rl": true,
          "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        -112,
        720
      ],
      "id": "3d4bfd76-1729-4829-8094-2ba11108f3df",
      "name": "Get many events in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1jk10kcqKsHeaJvJ",
          "name": "Zak Google Calendar"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "calendar": {
          "__rl": true,
          "value": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Calendar', ``, 'string') }}",
          "mode": "id",
          "__regex": "(^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*)"
        },
        "eventId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Event_ID', ``, 'string') }}",
        "updateFields": {}
      },
      "type": "n8n-nodes-base.googleCalendarTool",
      "typeVersion": 1.3,
      "position": [
        32,
        768
      ],
      "id": "dfecd8e2-58f7-4814-89fb-fc0a1634f162",
      "name": "Update an event in Google Calendar",
      "credentials": {
        "googleCalendarOAuth2Api": {
          "id": "1jk10kcqKsHeaJvJ",
          "name": "Zak Google Calendar"
        }
      }
    },
    {
      "parameters": {
        "operation": "addLabels",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}",
        "labelIds": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Label_Names_or_IDs', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        3008,
        512
      ],
      "id": "664e42bf-a181-4a14-a956-9820188dc286",
      "name": "Add label to message in Gmail",
      "webhookId": "5f5eb145-ce51-45bc-b674-242fdc28bd3c"
    },
    {
      "parameters": {
        "operation": "delete",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2720,
        656
      ],
      "id": "43b5de58-563c-48de-b864-fcbc8afb2b7e",
      "name": "Delete a message in Gmail",
      "webhookId": "94f5a812-9bc0-4470-bed2-e5e64f8b7189"
    },
    {
      "parameters": {
        "operation": "get",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1680,
        1088
      ],
      "id": "53bee634-db65-46e1-b70c-14e26c705bea",
      "name": "Get a message in Gmail",
      "webhookId": "03b2a2fd-1022-4eb8-8610-8761780317e6"
    },
    {
      "parameters": {
        "operation": "getAll",
        "filters": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1824,
        1056
      ],
      "id": "048bc7f8-67b7-4195-84ef-f84a20b3ce1c",
      "name": "Get many messages in Gmail",
      "webhookId": "9c0a34fe-e8be-43da-905f-ae1bfaf66b2c"
    },
    {
      "parameters": {
        "operation": "markAsRead",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        1984,
        1024
      ],
      "id": "82d36dc0-543e-487c-a519-114b8cc8b417",
      "name": "Mark a message as read in Gmail",
      "webhookId": "3a112bb6-0639-41f3-b366-93ac5ced2d00"
    },
    {
      "parameters": {
        "operation": "markAsUnread",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2128,
        960
      ],
      "id": "11fb0c14-94ff-44a0-b783-ca87db4a4b6e",
      "name": "Mark a message as unread in Gmail",
      "webhookId": "73e9ea7d-2398-4d69-a765-e3c38215b89c"
    },
    {
      "parameters": {
        "operation": "removeLabels",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}",
        "labelIds": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Label_Names_or_IDs', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2272,
        880
      ],
      "id": "b28a0f21-9f2f-4185-860b-c08bc3eae69e",
      "name": "Remove label from message in Gmail",
      "webhookId": "d0e7bfa6-dcb0-4096-8948-ce340176be6b"
    },
    {
      "parameters": {
        "operation": "reply",
        "messageId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message_ID', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2432,
        800
      ],
      "id": "c4124625-2704-4ebc-ad23-8eac75caf015",
      "name": "Reply to a message in Gmail",
      "webhookId": "4c8aa959-c3bb-4399-b97c-5171fad2717e"
    },
    {
      "parameters": {
        "operation": "sendAndWait",
        "sendTo": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('To', ``, 'string') }}",
        "subject": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Subject', ``, 'string') }}",
        "message": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Message', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.gmailTool",
      "typeVersion": 2.1,
      "position": [
        2576,
        720
      ],
      "id": "27909082-a075-4680-8fb8-9417c3c9ae34",
      "name": "Send message and wait for response in Gmail",
      "webhookId": "0a252c68-195a-497e-bec5-eef1028eb3e7"
    },
    {
      "parameters": {
        "operation": "delete",
        "contactId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Contact_ID', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.googleContactsTool",
      "typeVersion": 1,
      "position": [
        944,
        784
      ],
      "id": "185df177-db26-4f23-a813-aa1d841398d4",
      "name": "Delete a contact in Google Contacts",
      "credentials": {
        "googleContactsOAuth2Api": {
          "id": "nhq5k2xWMxEjfBLT",
          "name": "VV_Google Contacts"
        }
      }
    },
    {
      "parameters": {
        "operation": "get",
        "contactId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Contact_ID', ``, 'string') }}",
        "fields": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Fields', ``, 'string') }}"
      },
      "type": "n8n-nodes-base.googleContactsTool",
      "typeVersion": 1,
      "position": [
        1088,
        832
      ],
      "id": "2ff9b811-5ac9-4194-9588-f659b2f5de06",
      "name": "Get a contact in Google Contacts",
      "credentials": {
        "googleContactsOAuth2Api": {
          "id": "nhq5k2xWMxEjfBLT",
          "name": "VV_Google Contacts"
        }
      }
    },
    {
      "parameters": {
        "operation": "getAll",
        "fields": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Fields', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.googleContactsTool",
      "typeVersion": 1,
      "position": [
        512,
        624
      ],
      "id": "738edf67-a399-4190-a224-ac8a4e56851c",
      "name": "Get many contacts in Google Contacts",
      "credentials": {
        "googleContactsOAuth2Api": {
          "id": "nhq5k2xWMxEjfBLT",
          "name": "VV_Google Contacts"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "contactId": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Contact_ID', ``, 'string') }}",
        "fields": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('Fields', ``, 'string') }}",
        "updateFields": {}
      },
      "type": "n8n-nodes-base.googleContactsTool",
      "typeVersion": 1,
      "position": [
        656,
        688
      ],
      "id": "26aec629-3cc8-4c43-81f5-550d4ff9a2f5",
      "name": "Update a contact in Google Contacts",
      "credentials": {
        "googleContactsOAuth2Api": {
          "id": "nhq5k2xWMxEjfBLT",
          "name": "VV_Google Contacts"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        1072,
        48
      ],
      "id": "641c8380-9e58-4e7f-b863-078710350ff2",
      "name": "J.A.R.V.I.S"
    },
    {
      "parameters": {
        "url": "={{ /*n8n-auto-generated-fromAI-override*/ $fromAI('URL', ``, 'string') }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequestTool",
      "typeVersion": 4.2,
      "position": [
        3616,
        256
      ],
      "id": "e7bdaf0c-32a6-434f-9b3b-4608e5eeb06b",
      "name": "Website"
    },
    {
      "parameters": {
        "messages": {
          "message": [
            {}
          ]
        },
        "options": {},
        "requestOptions": {}
      },
      "type": "n8n-nodes-base.perplexityTool",
      "typeVersion": 1,
      "position": [
        3472,
        304
      ],
      "id": "d112d50d-a878-4eea-94d5-264f6b6ae38f",
      "name": "Research",
      "credentials": {
        "perplexityApi": {
          "id": "X1WIWHkP5gL1NHzi",
          "name": "KN DSM Public Perplexity API"
        }
      }
    },
    {
      "parameters": {
        "content": "## Calendar",
        "height": 624,
        "width": 896
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -608,
        368
      ],
      "typeVersion": 1,
      "id": "d16a4596-9966-43a2-9030-36e1ffc59b86",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## Contacts",
        "height": 624,
        "width": 896
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        416,
        512
      ],
      "typeVersion": 1,
      "id": "550febec-46a3-45c9-a4ab-893e75cc45bf",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Email",
        "height": 848,
        "width": 1872
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1408,
        464
      ],
      "typeVersion": 1,
      "id": "29235f42-43af-41cf-9c52-8cf751544157",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "content": "## Research",
        "height": 416,
        "width": 400
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        3376,
        112
      ],
      "typeVersion": 1,
      "id": "79319c19-c583-4b3e-b707-dca987e2877a",
      "name": "Sticky Note3"
    }
  ],
  "pinData": {},
  "connections": {
    "WhatsApp Trigger": {
      "main": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Gemini Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Create an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Create a contact in Google Contacts": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get many events in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update an event in Google Calendar": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Add label to message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get many messages in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Mark a message as read in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Mark a message as unread in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Remove label from message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Reply to a message in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Send message and wait for response in Gmail": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Delete a contact in Google Contacts": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get a contact in Google Contacts": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Get many contacts in Google Contacts": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Update a contact in Google Contacts": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "J.A.R.V.I.S": {
      "main": [
        [
          {
            "node": "Send message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Website": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Research": {
      "ai_tool": [
        [
          {
            "node": "J.A.R.V.I.S",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "aacf0658-e96b-4cdd-b922-5548c8b73793",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "a39925a189fc4958777cfbc2ee952f96a625e56b8dde120f89d58a7cdacf694a"
  },
  "id": "DeinV91rhIePOcJF",
  "tags": []
}